{"version":3,"sources":["components/Person.js","components/PersonAll.js","components/Form.js","components/Filter.js","services/persons.js","components/Notification.js","components/Footer.js","App.js","index.js"],"names":["Person","person","deletePerson","className","name","number","value","id","onClick","PersonAll","persons","showAll","personsToshow","filter","toLowerCase","indexOf","map","Form","newName","newNumber","handleNameChange","handleNumberChange","addPerson","onSubmit","onChange","type","Filter","handleShowChange","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","Footer","style","color","fontStyle","fontSize","App","useState","setPersons","setNewName","setNewNumber","setShowAll","errorMessage","setErrorMessage","useEffect","personService","initialPersons","event","console","log","target","preventDefault","nameObject","find","p","window","confirm","personid","returnedPerson","concat","setTimeout","deleteP","catch","error","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c322f2ab.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ({ person, deletePerson }) => {\r\n\r\n  \r\n\r\n  return (\r\n    <li className=\"person\">{person.name} - {person.number} <button name={person.name} value={person.id} onClick={deletePerson}>Delete</button></li>\r\n  )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst PersonAll = ({ persons, showAll, deletePerson }) => {\r\n    const personsToshow = showAll\r\n    ? persons.filter(person => person.name.toLowerCase().indexOf(showAll.toLowerCase()) !== -1)\r\n    : persons\r\n  return (\r\n      <div>\r\n          {personsToshow.map(person => \r\n          <Person key={person.name} person={person} deletePerson={deletePerson} /> \r\n          )}\r\n      </div>\r\n    \r\n  )\r\n}\r\n\r\nexport default PersonAll","import React from 'react'\r\n\r\nconst Form = ({newName, newNumber, handleNameChange, handleNumberChange, addPerson}) =>{\r\n    return(\r\n        <form onSubmit={addPerson}>\r\n        <div>\r\n          name: <input \r\n          value={newName}\r\n          onChange={handleNameChange}\r\n           />\r\n        </div>\r\n        <div>number: <input\r\n          value={newNumber}\r\n          onChange={handleNumberChange} \r\n           /></div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default Form","import React from 'react'\r\n\r\nconst Filter = ({ showAll, handleShowChange }) => {\r\n  return (\r\n    <div>filter shown with <input\r\n        value={showAll}\r\n        onChange={handleShowChange}\r\n        />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","import axios from 'axios'\r\nconst baseUrl = 'https://morning-plains-70321.herokuapp.com/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deletes = id => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, deletes}","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (!message) {\r\n        \r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className=\"error\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\nexport default Notification","import React from 'react'\r\n\r\nconst Footer = () => {\r\n    const footerStyle = {\r\n      color: 'green',\r\n      fontStyle: 'italic',\r\n      fontSize: 16\r\n    }\r\n    return (\r\n      <div style={footerStyle}>\r\n        <br />\r\n        <em>Note app, Department of Computer Science, University of Helsinki 2021</em>\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Footer","import React, { useState,useEffect } from 'react'\r\nimport PersonAll from './components/PersonAll'\r\nimport Form from './components/Form'\r\nimport Filter from './components/Filter'\r\nimport personService from './services/persons'\r\nimport Notification from './components/Notification'\r\nimport Footer from './components/Footer'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ showAll, setShowAll ] = useState('')\r\n  const [errorMessage, setErrorMessage] = useState()\r\n\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(initialPersons => {\r\n        setPersons(initialPersons)\r\n      })\r\n  }, [])\r\n\r\n  const handleNameChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewName(event.target.value)\r\n  }\r\n  const handleNumberChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleShowChange = (event) => {\r\n    console.log(event.target.value)\r\n    setShowAll(event.target.value)\r\n  }\r\n\r\n  const deletePerson = (event) => {\r\n    const deleteP = persons.find(p => p.id === event.target.value)\r\n    if (window.confirm(`Do you want to delete ${event.target.name} ?`)) {\r\n      personService\r\n      .deletes(event.target.value)\r\n      .then(persons => {\r\n        setPersons(persons.filter(p => p.id !== event.target.value))\r\n        console.log(deleteP)\r\n      })\r\n      .catch(error => {\r\n       if (error.response) {\r\n        setErrorMessage(\r\n          `Person '${persons.name}' was already removed from server`\r\n        )\r\n        setTimeout(() => {\r\n          setErrorMessage(null)\r\n        }, 5000)\r\n      } \r\n      /*\r\n      .catch(error => {\r\n        setErrorMessage(\r\n          `Note '${note.content}' was already removed from server`\r\n        )\r\n        setTimeout(() => {\r\n          setErrorMessage(null)\r\n        }, 5000)\r\n        setNotes(notes.filter(n => n.id !== id))\r\n      })\r\n      */\r\n      personService\r\n      .getAll()\r\n      .then(initialPersons => {\r\n        setPersons(initialPersons)\r\n      })\r\n      }) \r\n    }\r\n  }\r\n\r\n  \r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    console.log('person added', event.target)\r\n    const nameObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n\r\n    if (persons.find(p => p.name === newName)) {\r\n      if (window.confirm(`${newName} is already added to Phonebook, do you want to update the existing contact?`)){\r\n        const personid = persons.find(p => p.name === newName)\r\n        console.log(personid)\r\n        personService\r\n        .update(personid.id, nameObject)\r\n        .then(returnedPerson => {\r\n          setPersons(persons.map(p=>p.id !== personid ? p: returnedPerson))\r\n          setNewName(\"\")\r\n          setNewNumber(\"\")\r\n        })\r\n      } else {\r\n        setNewName(\"\")\r\n        setNewNumber(\"\")\r\n      }\r\n\r\n    } else {\r\n      personService\r\n      .create(nameObject)\r\n      .then(returnedPerson => {\r\n        setPersons(persons.concat(returnedPerson))\r\n        setNewName('')\r\n        setNewNumber('')\r\n\r\n        setErrorMessage(\r\n          `Added '${newName}' to the list`\r\n        )\r\n        setTimeout(() => {\r\n          setErrorMessage(null)\r\n        }, 4000)\r\n      })\r\n    }\r\n    personService\r\n      .getAll()\r\n      .then(initialPersons => {\r\n        setPersons(initialPersons)\r\n      })\r\n  }\r\n  \r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n      <h1>Phonebook</h1>\r\n      <Notification message={errorMessage} />\r\n      <Filter showAll={showAll} handleShowChange={handleShowChange} />\r\n      <Form newName={newName} newNumber={newNumber} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} addPerson={addPerson}/>\r\n      <h2>Numbers</h2>\r\n      <ul>\r\n        <PersonAll persons={persons} showAll={showAll} deletePerson={deletePerson}/>\r\n      </ul>\r\n      <Footer />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport './index.css'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n\r\n\r\n\r\n\r\n"],"sourceRoot":""}